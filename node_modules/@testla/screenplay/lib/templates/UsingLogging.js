"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.UsingLogging = void 0;
const constants_1 = require("../constants");
const call_stack_1 = require("../utils/call-stack");
class UsingLogging {
    constructor() {
        var _a;
        if (
        // regular formatted console debug logs
        !((_a = process.env.DEBUG) === null || _a === void 0 ? void 0 : _a.includes(constants_1.LOGGING_IDENTIFIER))
            // structured logs to be caught for parsing i.e. for playewright reporter
            && process.env[constants_1.STRUCTURED_LOGS_ENVVAR_NAME] !== 'true') {
            return;
        }
        this.callStack = [(0, call_stack_1.identifyCaller)()];
    }
    setCallStackInitializeCalledWith(calledWith) {
        if (this.callStack) {
            this.callStack[0].calledWith = calledWith;
        }
    }
    addToCallStack(entry) {
        if (this.callStack) {
            this.callStack.push(entry);
        }
    }
    getCallStack() {
        return this.callStack;
    }
}
exports.UsingLogging = UsingLogging;
